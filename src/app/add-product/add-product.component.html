<div class="form-container">
  <h2>Add New Product</h2>
  
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">Product Name:</label>
      <input type="text" id="name" formControlName="name" 
             [class.error]="name?.invalid && name?.touched">
      <div *ngIf="name?.invalid && name?.touched" class="error-message">
        <span *ngIf="name?.errors?.['required']">Product name is required</span>
        <span *ngIf="name?.errors?.['minlength']">Name must be at least 2 characters</span>
      </div>
    </div>

    <div class="form-group">
      <label for="price">Price:</label>
      <input type="number" id="price" formControlName="price" step="0.01"
             [class.error]="price?.invalid && price?.touched">
      <div *ngIf="price?.invalid && price?.touched" class="error-message">
        <span *ngIf="price?.errors?.['required']">Price is required</span>
        <span *ngIf="price?.errors?.['min']">Price must be greater than 0</span>
      </div>
    </div>

    <div class="form-group">
      <label for="category">Category:</label>
      <select id="category" formControlName="category"
              [class.error]="category?.invalid && category?.touched">
        <option value="">Select Category</option>
        <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
      </select>
      <div *ngIf="category?.invalid && category?.touched" class="error-message">
        <span *ngIf="category?.errors?.['required']">Category is required</span>
      </div>
    </div>

    <div class="form-group">
      <label>
        <input type="checkbox" formControlName="inStock"> In Stock
      </label>
    </div>

    <div class="form-actions">
      <button type="submit" [disabled]="productForm.invalid" class="submit-btn">Add Product</button>
      <button type="button" (click)="router.navigate(['/products'])" class="cancel-btn">Cancel</button>
    </div>
  </form>
</div>
